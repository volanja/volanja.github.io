<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>govmomi on volanja Pages</title><link>https://volanja.github.io/tags/govmomi/</link><description>Recent content in govmomi on volanja Pages</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 13 Jun 2021 19:10:18 +0900</lastBuildDate><atom:link href="https://volanja.github.io/tags/govmomi/index.xml" rel="self" type="application/rss+xml"/><item><title>Starting govc</title><link>https://volanja.github.io/p/vmw-starting-govc/</link><pubDate>Sun, 13 Jun 2021 19:10:18 +0900</pubDate><guid>https://volanja.github.io/p/vmw-starting-govc/</guid><description>VMware govcとは Go言語で書かれたAPI Client
https://github.com/vmware/govmomi/blob/master/govc/README.md
VMware vSphere APIのためのGo言語ライブラリであるgovmomiに含まれる。
そのほかにgovmomiは以下のソフトウェアを含む。
vcsim
Go言語で書かれたvSphere Simulator 執筆時点の環境 $ govc version -l Build Version: 0.25.0 Build Commit: bb0307eb Build Date: 2021-04-16T16:00:59Z 設定 govcの環境変数設定 govcからvCenterやESXi, vcsimにアクセスするには環境変数を設定する。
$ govc env GOVC_USERNAME=root GOVC_PASSWORD=VMware1! GOVC_URL=192.168.100.120 例えばvcsimにアクセスするにはvcsim起動後に表示されるexportコマンドを実行して、環境変数を設定する。
export GOVC_URL=https://user:pass@127.0.0.1:8989/sdk GOVC_SIM_PID=42915 govcのTips サーバ証明書の検証エラー govc実行時に何も指定しないとサーバ証明書の検証エラーが出る。
$ govc host.info /DC0/host/DC0_H0 govc: Post &amp;quot;https://127.0.0.1:8989/sdk&amp;quot;: x509: certificate signed by unknown authority -kをつけると検証をスキップする。
$ govc host.info --help Usage: govc host.info [OPTIONS] Options: -k=false Skip verification of server certificate [GOVC_INSECURE] 毎回-kを付けるのは手間がかかり忘れがちなので環境変数にオプションを設定する。</description></item><item><title>Starting vcsim</title><link>https://volanja.github.io/p/vmw-starting-vcsim/</link><pubDate>Sun, 13 Jun 2021 19:10:18 +0900</pubDate><guid>https://volanja.github.io/p/vmw-starting-vcsim/</guid><description>VMware vcsimとは Go言語で書かれたvSphere Simulator
https://github.com/vmware/govmomi/blob/master/vcsim/README.md
VMware vSphere APIのためのGo言語ライブラリであるgovmomiに含まれる。
そのほかにgovmomiは以下のソフトウェアを含む。
govc
Go言語で書かれたAPI Client 利用用途 govcのテスト用シミュレーター Ansible moduleのテスト用シミュレーター など 執筆時点の環境 $ vcsim version Build Version: 0.25.0 Build Commit: bb0307eb Build Date: 2021-04-16T16:00:59Z vcsimの起動 デフォルト デフォルトではデータセンター1個、ホスト3台、仮想マシン4台の環境を構築する。
$ vcsim export GOVC_URL=https://user:pass@127.0.0.1:8989/sdk GOVC_SIM_PID=42915 ESXi 1台のみ -esxを追加することでESXi 1台のみも構築できる。
$ vcsim -esx export GOVC_URL=https://user:pass@127.0.0.1:8989/sdk GOVC_SIM_PID=42917 govcからのアクセス vcsim起動後に表示される次のコマンドを実行する。
export GOVC_URL=https://user:pass@127.0.0.1:8989/sdk GOVC_SIM_PID=42917 詳細はStarting govcを参照のこと。
参考 vcsim help $ vcsim --help Usage of /Users/volanja/local/go/bin/vcsim: -E string Output vcsim variables to the given fifo or stdout (default &amp;quot;-&amp;quot;) -api-version string API version (default &amp;quot;6.</description></item></channel></rss>